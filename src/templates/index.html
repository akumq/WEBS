<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sensor Data Visualization</title>
    <link rel="stylesheet" href="http://localhost:8050/static/css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>

  <body>
    <!-- Template pour la vue du graphique -->
    <template id="graph-view-template">
        <div class="sensor-view graph-view">
            <canvas class="sensor-graph"></canvas>
        </div>
    </template>

    <!-- Template pour la vue des données brutes -->
    <template id="raw-view-template">
        <div class="sensor-view raw-view">
            <div class="view-header">
                <h4>Données Brutes</h4>
                <div class="view-controls">
                    <button class="export-csv">Exporter CSV</button>
                    <button class="clear-data">Effacer</button>
                </div>
            </div>
            <div class="data-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Timestamp</th>
                            <th>Acc X</th>
                            <th>Acc Y</th>
                            <th>Acc Z</th>
                            <th>Gyr X</th>
                            <th>Gyr Y</th>
                            <th>Gyr Z</th>
                        </tr>
                    </thead>
                    <tbody class="sensor-data">
                    </tbody>
                </table>
            </div>
        </div>
    </template>

    <!-- Template pour le conteneur du capteur -->
    <template id="sensor-container-template">
        <div class="sensor-container">
            <div class="sensor-header">
                <h3 class="sensor-title"></h3>
                <div class="sensor-info">
                    <span class="patient-id"></span>
                    <span class="activity-type"></span>
                    <span class="update-rate"></span>
                </div>
            </div>
            <div class="views-container">
                <!-- Les vues seront insérées ici dynamiquement -->
            </div>
            <div class="sensor-status">
                <span class="status-indicator"></span>
                <span class="status-message"></span>
            </div>
        </div>
    </template>

    <!-- Contenu principal -->
    <div class="content">
        <div class="controls">
            <form id="sensorForm">
                <div class="form-group">
                    <label for="patientId">ID Patient:</label>
                    <select id="patientId" required>
                        <!-- Options seront générées en JS -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="activity">Activité:</label>
                    <select id="activity" required>
                        <!-- Options seront générées en JS -->
                    </select>
                </div>
                <button type="submit" id="startButton">Démarrer</button>
                <button type="button" id="stopButton" disabled>Arrêter</button>
            </form>
        </div>
        
        <div id="graphContainer">
            <canvas id="sensorGraph"></canvas>
        </div>
    </div>

    <script src="http://localhost:8050/static/js/Sensor.js"></script>
    <script src="http://localhost:8050/static/js/SensorManager.js"></script>
  </body>
</html>
