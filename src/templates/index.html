<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sensor Data Visualization</title>
    <style>
      html,
      body {
        height: 100%;
        margin: 0;
        font-family: Arial, sans-serif;
      }
      body {
        display: flex;
        flex-direction: column;
      }
      .slider-container {
        padding: 10px;
        background-color: #f4f4f4;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        display: flex;
        justify-content: center;
        align-items: center;
      }
      .slider-container label {
        margin-right: 10px;
      }
      .content {
        display: grid;
        grid-template-columns: 250px 1fr;
        flex-grow: 1;
        gap: 20px;
        padding: 20px;
        box-sizing: border-box;
      }
      .sidebar {
        background-color: #f4f4f4;
        padding: 20px;
        box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
        display: grid;
        grid-template-rows: repeat(3, 1fr);
        gap: 20px;
      }
      .selection {
        background-color: #e0d7ff;
        padding: 10px;
        border-radius: 5px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .selection.blue {
        background-color: #add8e6; /* Light blue */
      }
      .selection.green {
        background-color: #90ee90; /* Light green */
      }
      .selection.red {
        background-color: #ffb6c1; /* Light red */
      }
      .selection select {
        margin-right: 10px;
      }
      .main-content {
        display: grid;
        grid-template-rows: repeat(3, 1fr);
        gap: 20px;
      }
      .graph-row {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 20px;
      }
      .graph {
        border: 1px solid #ccc;
        padding: 10px;
        border-radius: 5px;
        background-color: white;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }
      .graph img {
        max-width: 100%;
        max-height: 100%;
      }
    </style>
  </head>

  <body>
    <div class="content">
      <div class="sidebar" id="sidebar"></div>
      <div class="main-content" id="main-content"></div>
    </div>

    <div class="slider-container">
      <label for="rangeSlider">Vitesse:</label>
      <input
        type="range"
        id="rangeSlider"
        name="rangeSlider"
        min="100"
        max="2000"
        value="100"
      />
      <span id="rangeValue">100</span>
      <span>&nbsp;ms</span>
    </div>
  </body>
  <script>
    const rangeSlider = document.getElementById("rangeSlider");
    const rangeValue = document.getElementById("rangeValue");

    rangeSlider.addEventListener("input", function () {
      rangeValue.textContent = rangeSlider.value;
    });

    // Function to create selection divs dynamically
    function createSelectionDivs() {
      const sidebar = document.getElementById("sidebar");
      const numberOfSelections = 3; // Number of selection divs you want to create
      const colors = ["blue", "green", "red"]; // Array of color classes

      for (let i = 0; i < numberOfSelections; i++) {
        const selectionDiv = document.createElement("div");
        selectionDiv.className = `selection ${colors[i]}`;
        selectionDiv.dataset.index = i; // Add a data attribute for index

        const subjectSelect = document.createElement("select");
        for (let j = 1; j <= 10; j++) {
          const option = document.createElement("option");
          option.textContent = `Subject ${j}`;
          subjectSelect.appendChild(option);
        }

        const activitySelect = document.createElement("select");
        for (let j = 0; j <= 11; j++) {
          const option = document.createElement("option");
          option.textContent = `Activity ${j}`;
          activitySelect.appendChild(option);
        }

        // Add event listeners to the select elements
        subjectSelect.addEventListener("change", function () {
          updateGraphRow(selectionDiv.dataset.index);
        });
        activitySelect.addEventListener("change", function () {
          updateGraphRow(selectionDiv.dataset.index);
        });

        selectionDiv.appendChild(subjectSelect);
        selectionDiv.appendChild(activitySelect);
        sidebar.appendChild(selectionDiv);
      }
    }

    const graphTitles = [
      "Acceleration left ankle",
      "Gyro left ankle",
      "Acceleration lower right arm",
      "Gyro lower right arm",
    ];
    // Function to update a specific graph row
    function updateGraphRow(index) {
      const graphRow = document.getElementById(`graph-row-${index}`);
      if (graphRow) {
        graphRow.innerHTML = ""; // Clear existing graphs

        graphTitles.forEach((title) => {
          const graph = document.createElement("div");
          graph.className = "graph";
          graph.innerHTML = `<h3>${title}</h3>`;
          graphRow.appendChild(graph);
        });
      }
    }

    // Function to create graph rows dynamically
    function createGraphRows() {
      const mainContent = document.getElementById("main-content");
      mainContent.innerHTML = ""; // Clear existing graph rows

      const numberOfRows = 3; // Number of graph rows you want to create

      for (let i = 0; i < numberOfRows; i++) {
        const graphRow = document.createElement("div");
        graphRow.className = "graph-row";
        graphRow.id = `graph-row-${i}`; // Add an ID for each graph row

        graphTitles.forEach((title) => {
          const graph = document.createElement("div");
          graph.className = "graph";
          graph.innerHTML = `<h3>${title}</h3>`;
          graphRow.appendChild(graph);
        });

        mainContent.appendChild(graphRow);
      }
    }

    // Call the functions to create selection divs and graph rows
    createSelectionDivs();
    createGraphRows();
  </script>
</html>
